<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

<head>
<script type="text/javascript">
	function cerrar(){
	    try {
	        window.opener.focus();
	        this.close();
	    } catch (e) {
	        alert("error al cerrar la ventan");
	    }
	}
	function doPrint(){
	    try{
	        document.getElementById("noprint").style.visibility='hidden';
	        window.print();
	        window.opener.focus();
	        this.close();
	    }catch(e){
	        alert(e);
	    }
	}
</script>
<style>
.alignTop {
	vertical-align: top;
}

.rich-table, .rich-table-header,.rich-table-headercell, .rich-table-cell,
  .rich-subtable-cell, .rich-table-footercell, .rich-subtable-footercell {
      border-width:0px;
}
</style>

</head>
<body>
	<h:form id="diaTrabajo" styleClass="edit">
		<div style="width: 585.82px" >


			<table width="100%" border="1" >
				<tr >
					<td width="70%" ><h:outputText
							value="#{comprobanteVentaHome.instance.fecha}">
							<f:convertDateTime pattern="yyyy - MMMM - dd" locale="es" />
						</h:outputText>
					</td>
					<td></td>
				</tr>
				<tr>
					<td colspan="2"><h:outputText
							value="#{residentHome.instance.nombre}" />
					</td>
				</tr>
				<tr>
					<td colspan="2"><h:outputText
							value="#{residentHome.instance.currentDireccion.calle}" />
					</td>
				</tr>
				<tr>
					<td width="60%"><h:outputText
							value="#{residentHome.instance.numeroIdentificacion}" />
					</td>
					<td><h:outputText
							value="#{residentHome.instance.currentDireccion.telefonoFijo}" />
					</td>
				</tr>

			</table>
			<div align="center">

				<div align="center" style="height: 500px">
					<rich:dataTable id="itemComprobanteVentaList"
						var="_itemComprobanteVenta"
						value="#{comprobanteVentaHome.instance.items}" width="100%" >

						<rich:column styleClass="action" width="6%">
							<f:facet name="header">#{messages['articulo.cantidad']}</f:facet>
							<h:outputText value="#{_itemComprobanteVenta.cantidad}" />
						</rich:column>


						<rich:column>
							<f:facet name="header">#{messages['articulo']}</f:facet>
							<h:outputText value="#{_itemComprobanteVenta.articulo.nombre}" />
						</rich:column>


						<rich:column styleClass="action" width="6%">
							<f:facet name="header">#{messages['articulo.valorUnitario']}</f:facet>
							<h:outputText value="#{_itemComprobanteVenta.vUnitario}" />
						</rich:column>
						<rich:column
							style="text-align: right; background-color: #{_itemComprobanteVenta.isValid ? 'white' : 'red'};"
							id="colVtotal" width="10%">
							<f:facet name="header">#{messages['articulo.valorTotal']}</f:facet>
							<h:outputText value="#{_itemComprobanteVenta.vTotal}" />
						</rich:column>
					</rich:dataTable>

				</div>


				<div align="center">
					<div align="right" style="width: 100%">

						<table>
							<tr>
								<td align="right"><h:outputText
										value="#{comprobanteVentaHome.instance.subTotalIva}">
										<f:convertNumber maxFractionDigits="2" minFractionDigits="2" />
									</h:outputText>
								</td>
							</tr>
							<tr>
								<td align="right"><h:outputText
										value="#{comprobanteVentaHome.instance.descuento}">
										<f:convertNumber maxFractionDigits="2" minFractionDigits="2" />
									</h:outputText>
								</td>
							</tr>
							<tr>
								<td align="right"><h:outputText
										value="#{comprobanteVentaHome.instance.subTotalCero}">
										<f:convertNumber maxFractionDigits="2" minFractionDigits="2" />
									</h:outputText>
								</td>
							</tr>
							<tr>
								<td align="right"><h:outputText
										value="#{comprobanteVentaHome.instance.iva}">
										<f:convertNumber maxFractionDigits="2" minFractionDigits="2" />
									</h:outputText>
								</td>
							</tr>
							<tr>
								<td align="right"><h:outputText
										value="#{comprobanteVentaHome.instance.valorTotal}">
										<f:convertNumber maxFractionDigits="2" minFractionDigits="2" />
									</h:outputText>
								</td>
							</tr>
						</table>

					</div>
				</div>

			</div>
		</div>

		<div class="actionButtons">
			<div align="center">
				<div align="center" id="noprint">
					<table width="100%">
						<tr align="center">
							<td align="right"><table>
									<tr>
										<td align="center"><a:commandButton id="bt_imprimir"
												onclick="doPrint();return false;" value="Imprimir" />
										</td>
										<td align="center"><a:commandButton id="bt_cerrar"
												onclick="cerrar();return false;" value="Cerrar" />
										</td>
									</tr>
								</table>
							</td>
						</tr>
					</table>
				</div>
			</div>

		</div>
	</h:form>


</body>
</html>
